"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[150],{897:(e,t,n)=>{n.r(t),n.d(t,{AdvancedKeywordAnalyzer:()=>o,TFIDFAnalyzer:()=>a,TextRankAnalyzer:()=>i,keywordAnalyzer:()=>c});let s=["的","了","在","是","我","有","和","就","不","人","都","一","一个","上","也","很","到","说","要","去","你","会","着","没有","看","好","自己","这"];function r(e){let t=e.replace(/[，。！？；：""''（）【】《》、]/g," ").match(/[\u4e00-\u9fa5]+|[a-zA-Z]+/g)||[],n=[];for(let e of t)if(/[\u4e00-\u9fa5]/.test(e))for(let t=0;t<e.length-1;t++)t<e.length-1&&n.push(e.substring(t,t+2)),t<e.length-2&&n.push(e.substring(t,t+3));else n.push(e.toLowerCase());return n.filter(e=>e.length>=2&&e.length<=6&&!s.includes(e))}class a{tokenize(e){return r(e)}calculateTF(e){let t=new Map,n=e.length;return e.forEach(e=>{t.set(e,(t.get(e)||0)+1)}),t.forEach((e,s)=>{t.set(s,e/n)}),t}calculateIDF(e){let t=new Map,n=e.length,s=new Set;return e.forEach(e=>e.forEach(e=>s.add(e))),s.forEach(s=>{let r=Math.log(n/(e.filter(e=>e.includes(s)).length+1));t.set(s,r)}),t}extractKeywords(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=this.tokenize(e);if(0===n.length)return[];let s=this.calculateTF(n),r=[];return s.forEach((e,t)=>{let s=n.filter(e=>e===t).length,a=e;(2===t.length||3===t.length)&&(a*=1.2),s>.1*n.length&&(a*=.7),r.push({keyword:t,score:a,count:s})}),r.sort((e,t)=>t.score-e.score).slice(0,t).map((e,t)=>({keyword:e.keyword,density:e.count/n.length*100,count:e.count,positions:n.map((t,n)=>t===e.keyword?n:-1).filter(e=>-1!==e)}))}constructor(){this.documents=[],this.vocabulary=new Set}}class i{tokenize(e){return r(e)}buildGraph(e){let t=new Map;Array.from(new Set(e)).forEach(e=>{t.set(e,new Map)});for(let n=0;n<e.length;n++){let s=e[n],r=Math.max(0,n-this.windowSize),a=Math.min(e.length,n+this.windowSize+1);for(let i=r;i<a;i++)if(n!==i){let n=e[i],r=t.get(s);r.set(n,(r.get(n)||0)+1)}}return t}calculateTextRank(e){let t=Array.from(e.keys()),n=new Map;t.forEach(e=>n.set(e,1));for(let s=0;s<this.iterations;s++){let s=new Map;t.forEach(r=>{let a=1-this.damping;e.get(r),t.forEach(t=>{if(r!==t){let s=e.get(t),i=s.get(r)||0;if(i>0){let e=Array.from(s.values()).reduce((e,t)=>e+t,0);e>0&&(a+=this.damping*(n.get(t)*i/e))}}}),s.set(r,a)}),s.forEach((e,t)=>n.set(t,e))}return n}extractKeywords(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=this.tokenize(e);if(0===n.length)return[];let s=this.buildGraph(n),r=this.calculateTextRank(s),a=new Map,i=new Map;n.forEach((e,t)=>{a.set(e,(a.get(e)||0)+1),i.has(e)||i.set(e,[]),i.get(e).push(t)});let o=[];return r.forEach((e,t)=>{let s=a.get(t)||0,r=i.get(t)||[],c=s/n.length*100;o.push({keyword:t,density:c,count:s,positions:r})}),o.sort((e,t)=>r.get(t.keyword)-r.get(e.keyword)).slice(0,t)}constructor(){this.windowSize=5,this.damping=.85,this.iterations=50}}class o{analyze(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"combined",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15;switch(t){case"tfidf":return this.tfidf.extractKeywords(e,n);case"textrank":return this.textrank.extractKeywords(e,n);default:return this.combineResults(e,n)}}combineResults(e,t){let n=this.tfidf.extractKeywords(e,2*t),s=this.textrank.extractKeywords(e,2*t),r=new Map;return n.forEach(e=>{r.set(e.keyword,{...e,density:.6*e.density})}),s.forEach(e=>{if(r.has(e.keyword)){let t=r.get(e.keyword);t.density+=.4*e.density}else r.set(e.keyword,{...e,density:.4*e.density})}),Array.from(r.values()).sort((e,t)=>t.density-e.density).slice(0,t)}constructor(){this.tfidf=new a,this.textrank=new i}}let c=new o},4142:(e,t,n)=>{n.d(t,{u:()=>a});let s={SILICONFLOW_API_KEY:n(1890).env.SILICONFLOW_API_KEY||"",SILICONFLOW_BASE_URL:"https://api.siliconflow.cn/v1",MODEL:"Qwen/Qwen2.5-72B-Instruct",MAX_TOKENS:4e3,TEMPERATURE:.7};class r{setApiKey(e){this.apiKey=e}isConfigured(){return!!this.apiKey}async callAI(e,t){if(!this.isConfigured())throw Error("AI API key not configured. Please provide SiliconFlow API key.");try{var n,r;let a=await fetch("".concat(this.baseUrl,"/chat/completions"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.apiKey)},body:JSON.stringify({model:s.MODEL,messages:[...t?[{role:"system",content:t}]:[],{role:"user",content:e}],max_tokens:s.MAX_TOKENS,temperature:s.TEMPERATURE})});if(!a.ok)throw Error("AI API error: ".concat(a.status," ").concat(a.statusText));return(null==(r=(await a.json()).choices[0])||null==(n=r.message)?void 0:n.content)||""}catch(e){throw console.error("AI API call failed:",e),e}}async analyzeSEO(e){var t;let n="\n请分析以下内容的SEO表现：\n\n标题：".concat(e.title||"未提供","\n目标关键词：").concat((null==(t=e.keywords)?void 0:t.join(", "))||"未提供","\n内容：").concat(e.content.substring(0,2e3)).concat(e.content.length>2e3?"...":"","\n\n请提供具体的优化建议和评分。");try{let e=await this.callAI(n,"你是一位专业的微信公众号SEO优化专家。请分析用户提供的内容，从以下角度给出专业建议：\n1. 微信搜一搜优化建议\n2. 关键词布局优化\n3. 标题吸引力提升\n4. 内容结构改进\n5. 热门话题契合度\n\n请用简洁专业的中文回复，每个建议控制在50字以内。");return this.parseAIResponse(e,"seo")}catch(e){return this.getFallbackResponse("seo")}}async analyzeTrends(e){let t="请分析以下内容的热点话题匹配度和优化机会：\n\n内容：".concat(e.substring(0,1500)).concat(e.length>1500?"...":"","\n\n请识别相关的热门话题，评估传播潜力，并给出优化建议。");try{let e=await this.callAI(t,"你是一位敏锐的内容趋势分析师。请分析内容中的热点话题，识别当前流行趋势，并提供话题优化建议。\n重点关注：\n1. 当前互联网热门话题\n2. 用户关注度高的关键词\n3. 潜在的流量机会\n4. 内容传播潜力\n\n请用JSON格式返回分析结果。");return this.parseTrendsResponse(e)}catch(e){return this.getFallbackTrends()}}async optimizeContent(e,t){let n="请帮我优化以下公众号文章：\n\n标题：".concat(t,"\n正文：").concat(e.substring(0,2e3)).concat(e.length>2e3?"...":"","\n\n请提供具体的优化建议和改进要点。");try{let e=await this.callAI(n,"你是一位专业的内容编辑和优化专家。请帮助用户优化公众号文章内容，提升阅读体验和SEO效果。\n优化重点：\n1. 文章结构优化\n2. 段落逻辑调整\n3. 关键词自然融入\n4. 可读性提升\n5. 互动元素建议\n\n请提供具体、可操作的优化建议。");return this.parseAIResponse(e,"optimization")}catch(e){return this.getFallbackResponse("optimization")}}async analyzeSentiment(e){let t="请分析以下内容的情感特征：\n\n内容：".concat(e.substring(0,1500)).concat(e.length>1500?"...":"","\n\n请提供情感分析结果和优化建议。");try{let e=await this.callAI(t,"你是一位专业的内容情感分析师。请分析文本的情感倾向、语调风格和读者体验。\n分析维度：\n1. 整体情感倾向（积极/消极/中性）\n2. 语言风格评估\n3. 读者情感反应预测\n4. 情感优化建议\n5. 互动潜力评估");return this.parseAIResponse(e,"sentiment")}catch(e){return this.getFallbackResponse("sentiment")}}parseAIResponse(e,t){try{let t=e.split("\n").filter(e=>e.trim()),n=[],s=[];return t.forEach(e=>{e.includes("建议")||e.includes("优化")||e.includes("改进")?s.push(e.trim()):(e.includes("分析")||e.includes("评估")||e.includes("发现"))&&n.push(e.trim())}),{insights:n.length>0?n:[e.substring(0,200)],suggestions:s.length>0?s:["请根据内容特性进行针对性优化"],score:this.extractScore(e)||75}}catch(t){return{insights:[e.substring(0,200)],suggestions:["基于AI分析的优化建议"],score:75}}}parseTrendsResponse(e){try{return{trending:[{keyword:"微信公众号运营",score:85,category:"新媒体营销",relatedKeywords:["内容创作","SEO优化","用户增长"],description:"微信公众号运营持续升温，SEO优化需求增长"}],recommendations:["结合当前热点话题创作内容","关注用户关心的实用话题"],opportunityScore:78}}catch(e){return this.getFallbackTrends()}}extractScore(e){let t=e.match(/(\d+)分|评分[：:]\s*(\d+)|得分[：:]\s*(\d+)/g);if(t){let e=t[0].match(/\d+/);return e?parseInt(e[0]):null}return null}getFallbackResponse(e){let t={seo:{insights:["标题长度适中，关键词布局合理","内容结构清晰，可读性良好"],suggestions:["可以在标题中增加更多吸引性词汇","适当增加相关关键词密度","优化段落结构提升阅读体验"],score:72},optimization:{insights:["内容逻辑性较强","语言表达较为流畅"],suggestions:["增加小标题提升结构性","适当添加互动元素","优化开头和结尾部分"],score:75},sentiment:{insights:["整体语调较为中性","表达方式比较正式"],suggestions:["可以增加更多情感化表达","适当使用幽默元素","加强与读者的互动感"],score:70}};return t[e]||t.seo}getFallbackTrends(){return{trending:[{keyword:"内容营销",score:82,category:"数字营销",relatedKeywords:["品牌传播","用户增长","流量获取"],description:"内容营销持续受到关注，优质内容需求增长"},{keyword:"AI工具",score:88,category:"科技趋势",relatedKeywords:["人工智能","效率提升","自动化"],description:"AI工具应用场景不断扩展，用户接受度提高"}],recommendations:["结合AI工具话题可获得更多关注","内容营销相关话题具有持续热度","建议关注实用性和可操作性"],opportunityScore:76}}constructor(e){this.apiKey=e||s.SILICONFLOW_API_KEY,this.baseUrl=s.SILICONFLOW_BASE_URL}}let a=new r}}]);